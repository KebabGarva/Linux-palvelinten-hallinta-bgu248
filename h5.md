# Tekniikoita *by Saku Laitinen*

## Sisällysluettelo

- **[Johdanto](https://github.com/KebabGarva/Linux-palvelinten-hallinta-bgu248/blob/main/h5.md#Johdanto)**
- **[Lämmittelytehtävä](https://github.com/KebabGarva/Linux-palvelinten-hallinta-bgu248/blob/main/h5.md#Lämmittelytehtävä)**
- 


## Johdanto

### Mitä?

Tämä raportti on tehty Tero Karvisen toteuttaman kurssin [Palvelinten hallinta](https://terokarvinen.com/2024/configuration-management-2024-spring/) yhteydessä. Tämä raportti kertoo läpikohtaisesti, mitä tein tehtävän **h5** eteen. Sisällysluettelon linkkejä painamalla pystyy navigoimaan suoraan haluttuun kohtaan.

### Missä?

Toteutin tehtäviin liittyvät komennot fyysisessä Windows 11 -käyttöjärjestelmässä, ja virtuaalisessa Debian käyttöjärjestelmässä

**Tietokoneet**

- [*Fyysinen kone: Lenovo Legion 7 16ACHg6*](https://nanoreview.net/en/laptop/lenovo-legion-7-2021-amd?m=c.1_g.3_r.3_s.3)
- [Vagrant: debian/bullseye64](https://app.vagrantup.com/debian/boxes/bullseye64)

### Milloin?

Testit ja oikoluku tehtiin 26.4.

## Lämmittelytehtävä

Tehtävän tarkoituksena oli lukea aiemman Palvelinten hallinta -kurssin opiskelijan raportti joko Windowsin tai Macin saltista.
Valitsin Toni Sepän raportin Saltin toiminnasta Windowsissa. (Klikkaa [tästä](https://salthomework.wordpress.com/h5/) artikkeliin.)

- Salt-minionin asennus Windowsiin, ja sen yhdistäminen Linux herraan.
  - Suurin osa komennoista on annettu Linux herran kautta.
    - Raportissa näytetään kaksi esimerkkiä minionissa paikallisesti ajettavista komennoista
  - Raportissa esitetään seuraavien komentojen toimintaa:
    - grains
    - pkg
    - test-ping
    - system.set_system_date
    - state.highstate

## Salt-komennot grains ja file

Saltin asennuksen onnistumisen voi tarkistaa seuraavalla komennolla:

```
salt-call --local --version
```
![image](https://github.com/KebabGarva/Linux-palvelinten-hallinta-bgu248/assets/89390996/1ef5585d-eaec-497c-b172-93527812b52b)


<details>

<summary>grains</summary>

## Yksinkertaiset grains-esimerkit

Windowsilla kuin myös muilla käyttöjärjestelmillä kaikista yksinkertainen tapa palauttaa järjestelmätiedot on seuraava:

```
salt-call --local -g
```

![image](https://github.com/KebabGarva/Linux-palvelinten-hallinta-bgu248/assets/89390996/f01aff8f-67ab-45d4-8a99-c9e0bfc025ef)

Jos haluamme näytölle tulostettavaksi ainoastaan erikseen määritetyn informaation, sen voi tehdä seuraavasti:

```
salt-call --local grains.get timezone
```
timezone on vain esimerkkinä, mutta sen voi korvata millä tahansa muulla muuttujalla.

![image](https://github.com/KebabGarva/Linux-palvelinten-hallinta-bgu248/assets/89390996/dc37355b-2d2f-4236-aced-288dfd9de6b7)


</details>

<details>

<summary>file</summary>

## Yksinkertaiset file-esimerkit

Lisätään yksinkertainen tyhjä tiedosto nimeltä "sakunfiletesti" file-funktion kautta kotihakemistooni.

```
salt-call --local -l info state.single file.managed /Users/sakus/sakunfiletesti
```

![image](https://github.com/KebabGarva/Linux-palvelinten-hallinta-bgu248/assets/89390996/a84b3c56-3429-4f0c-9187-d18223621c29)

Kokeillaan poistaa tiedosto.

```
salt-call --local -l info state.single file.absent /Users/sakus/sakunfiletesti
```

![image](https://github.com/KebabGarva/Linux-palvelinten-hallinta-bgu248/assets/89390996/80644089-1336-4c5a-967d-5cb18e2ff56d)


</details>



