# Toimiva versio _by Saku Laitinen_

## Sisällysluettelo

- **[Johdanto](https://github.com/KebabGarva/Linux-palvelinten-hallinta-bgu248/blob/main/h3.md#Johdanto)**
- **[Lämmittelytehtävä](https://github.com/KebabGarva/Linux-palvelinten-hallinta-bgu248/blob/main/h3.md#Lämmittelytehtävä)**


## Johdanto

### Mitä?

Tämä raportti on tehty Tero Karvisen toteuttaman kurssin [Palvelinten hallinta](https://terokarvinen.com/2024/configuration-management-2024-spring/) yhteydessä. Tämä raportti kertoo läpikohtaisesti, mitä tein tehtävän h3 eteen. Sisällysluettelon linkkejä painamalla pystyy navigoimaan suoraan haluttuun kohtaan.

### Missä?

Toteutin tehtäviin liittyvät komennot fyysisessä Windows 11 - ja virtuaalisissa ...... Spesifoin tarkemmin kappaleen alussa, mitkä ovat käytettävän/käytettävien käyttöjärjestelmien tiedot. Kaikki Windowsilla tehdyt komennot on tehty fyysisessä ympäristössä, ja Linuxilla on tehty virtuaaliympäristössä. 

**Tietokoneet**

[*Fyysinen kone: Lenovo Legion 7 16ACHg6*](https://nanoreview.net/en/laptop/lenovo-legion-7-2021-amd?m=c.1_g.3_r.3_s.3)


### Milloin?

Testit ja oikoluku tehtiin 14.4.

## Lämmittelytehtävä

<details>

<summary>a)</summary>

### Git pähkinänkuoressa

- Git on versionhallintaohjelma, jonka on kehittänyt Linus Torvalds.
- Eroaa muista versionhallintaohjelmista niin, että ei mitata pelkästään muutoksia vaan huomioi koko projektin yhdeksi versioksi
- Koko projektin historia ja versiot ovat tallennettuna kovalevylle.
  - Gitiä voidaan käyttää **KOKONAAN** ilman verkkkoyhteyttä
- Yksinkertaisimmillaan Gitiä käytetään seuraavasti:
  1. Tehdään tarvittavat muokkaukset työhakemistossa
  2. Valitaan haluamat tiedostot commitia varten
  3. Tehdään commit ja tarvittaessa push, jotta tallentuu oikea versio.

</details>

<details>

  <summary>b)</summary>

  ### git add . && git commit; git pull && git push

- Tämä komentosarja on opetettu kurssilla olemaan ainoa komentosarja, jonka on muistettava gitin käytössä
- Komentosarja jakaantuu neljään komentoon ja kahteen vaiheeseen
  - git add .
    - lisää muutokset commitia varten
  - git commit
    - commitilla tehdään muutokset paikalliseen varastoon
  - git pull
    - sisällyttää etävaraston kokonaisuuden paikallisvaraston kokonaisuuteen
  - git push
    - git pull toisinpäin.
  - Ensimmäisessä vaiheessa vahvistetaan muutokset paikallisvarastoon.
  - Toisessa vaiheessa otetaan etävaraston muutokset käyttöön, ja jos se onnistuu, paikallisvaraston muutokset sisällytetään etävarastoon.

</details>

<details>

  <summary>c)</summary>

  ### Varaston terokarvinen/suolax/ historia

  - Kaikki muutokset toteutettiin saman päivän aikana
  - Kahdeksan commitia yhteensä
  - Demontroi, että omia commit-viestejä voi tehdä
  - 
</details>

## Uuden varaston kloonaaminen paikallislevylle

**Käyttöjärjestelmät: Windows 11 Pro for Workstations ja Kali 2024.1**

Tein uuden varaston nimeltä summer-of-69 Githubiin selaimen kautta. Lisäsin README -tiedoston ja GNU General Public License v3.0 -lisenssin.

![image](https://github.com/KebabGarva/Linux-palvelinten-hallinta-bgu248/assets/89390996/9e987853-988c-44c7-8b7b-6c76680f1c15)

![image](https://github.com/KebabGarva/Linux-palvelinten-hallinta-bgu248/assets/89390996/6f0b07e4-e9ac-47d1-923e-b9cbe6791748)

Siirryin virtuaalikoneelleni, jotta voin kopioida tiedostot sinne. Helpointa olisi käyttää Github Desktop -sovellusta, mutta menisin mielestäni osaamistasooni nähden liikaa riman ali. Kopioin eka SSH-avaimen kyseiseen repoon.

![image](https://github.com/KebabGarva/Linux-palvelinten-hallinta-bgu248/assets/89390996/d435c92b-a0d8-421f-b375-0e24dd8cfc4e)

Koska SSH-avain on liitettynä virtuaalikoneeseeni valmiiksi, minun piti tehdä ainoastaan seuraava toimenpide.

```
mkdir summerh3 ; cd summerh3
git clone git@github.com:KebabGarva/summer-of-69.git
```
![image](https://github.com/KebabGarva/Linux-palvelinten-hallinta-bgu248/assets/89390996/73dde064-fb5b-4569-9b50-3f728c8b0b12)

## Palautus edelliseen versioon

Ennen tätä lisäilin satunnaisia tiedostoja Githubissa sijaitsevaan varastooni paikallisvarastoni kautta. Toimin seuraavasti:

![image](https://github.com/KebabGarva/Linux-palvelinten-hallinta-bgu248/assets/89390996/06222e9c-8ad9-4c67-b9a0-deed4754c32e)

```
git add . && git commit ; git pull && git push
```

![image](https://github.com/KebabGarva/Linux-palvelinten-hallinta-bgu248/assets/89390996/e717f8af-a947-4542-b611-1b5c4dd62a87)

Tämän jälkeen poistin ja lisäsin tiedostoja manuaalisesti.

![image](https://github.com/KebabGarva/Linux-palvelinten-hallinta-bgu248/assets/89390996/04733f52-1106-459e-8a2d-44908880ff16)

Seuraavaksi kokeilin tehtävänannon mukaisia komentoja tarkoituksena resetoida edelliseen hyväksyttyyn versioon.

```
git reset --hard
```

![image](https://github.com/KebabGarva/Linux-palvelinten-hallinta-bgu248/assets/89390996/437ce868-94ab-45c4-839c-8a515345bfac)

Näköjään kyseinen komento ainoastaan lisäsi vanhat tiedostot takaisin. Tajusin noin viiden minuutin päästä, että en lisännyt manuaalisesti lisättäviä tiedostoja gitiin, minkä takia se ei toiminut sillä tavalla mitä ajattelin. Lisäsin ne gitiin.

```
git add muricaafuckyea
git add thesummerof69aaawyeaaa
```
![image](https://github.com/KebabGarva/Linux-palvelinten-hallinta-bgu248/assets/89390996/4c7bed4d-f4c5-40b2-b728-a8095eb70df1)

Kokeilin uudestaan resetiä.

![image](https://github.com/KebabGarva/Linux-palvelinten-hallinta-bgu248/assets/89390996/d878e1f9-993e-45f5-8290-03f09c340734)

Jes se toimi!

## Varastoni loki

Pääsin yksinkertaisesti katsomaan lokia seuraavasti.

```
git log
```

![image](https://github.com/KebabGarva/Linux-palvelinten-hallinta-bgu248/assets/89390996/04aa859b-2a2d-4340-9d5d-792ce1359102)

Lokista näkyy, minkä nimiset ovat commitit, ketkä tekivät commitit, commitin kuvaus ja commitin ID. 

## Saltin hallinnoiminen Gitin avulla.



