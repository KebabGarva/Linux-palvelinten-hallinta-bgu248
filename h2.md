# Soitto kotiin _by Saku Laitinen_

## Sisällysluettelo

- **[Johdanto](https://github.com/KebabGarva/Linux-palvelinten-hallinta-bgu248/blob/main/h2.md#Johdanto)**
- **[Lämmittelytehtävä](https://github.com/KebabGarva/Linux-palvelinten-hallinta-bgu248/blob/main/h2.md#Lämmittelytehtävä)**
- **[Saltin asentaminen Windowsiin](https://github.com/KebabGarva/Linux-palvelinten-hallinta-bgu248/blob/main/h1.md#Saltin-asentaminen-Windowsiin)**
- **[Vagrantin asennuksen tarkistaminen Windowsissa](https://github.com/KebabGarva/Linux-palvelinten-hallinta-bgu248/blob/main/h1.md#Vagrantin-asennuksen-tarkistaminen-Windowsissa)**
- **[Uuden virtuaalikoneen luominen Vagrantilla hyödyntämällä valmista virtuaalikonetta Vagrant Cloud -ympäristöstä](https://github.com/KebabGarva/Linux-palvelinten-hallinta-bgu248/blob/main/h1.md#Uuden-virtuaalikoneen-luominen-Vagrantilla-hyödyntämällä-valmista-virtuaalikonetta-Vagrant-Cloud--ympäristöstä)**
- **[Saltin asennus Linuxiin ja epäonnistuneen asentamisen kartoittaminen](https://github.com/KebabGarva/Linux-palvelinten-hallinta-bgu248/blob/main/h1.md#Saltin-asennus-Linuxiin-ja-epäonnistuneen-asentamisen-kartoittaminen)**
- **[Tilafunktiot](https://github.com/KebabGarva/Linux-palvelinten-hallinta-bgu248/blob/main/h1.md#Tilafunktiot)**__: pkg, file, service, user, cmd__
- **[Idempotenssi ja sen konkreettiset esimerkit](https://github.com/KebabGarva/Linux-palvelinten-hallinta-bgu248/blob/main/h1.md#Idempotenssi-ja-sen-konkreettiset-esimerkit)**
- **[Grains](https://github.com/KebabGarva/Linux-palvelinten-hallinta-bgu248/blob/main/h1.md#Grains)**

## Johdanto

### Mitä?

Tämä raportti on tehty Tero Karvisen toteuttaman kurssin [Palvelinten hallinta](https://terokarvinen.com/2024/configuration-management-2024-spring/) yhteydessä. Tämä raportti kertoo läpikohtaisesti, mitä tein tehtävän h2 eteen. Sisällysluettelon linkkejä painamalla pystyy navigoimaan suoraan haluttuun kohtaan.

### Missä?

Toteutin tehtäviin liittyvät komennot fyysisessä Windows 11 - ja virtuaalisissa Debian -ympäristössä hyödyntämällä [Vagrantia](https://developer.hashicorp.com/vagrant). Spesifoin tarkemmin kappaleen alussa, mitkä ovat käytettävän/käytettävien käyttöjärjestelmien tiedot. Kaikki Windowsilla tehdyt komennot on tehty fyysisessä ympäristössä, ja Linuxilla on tehty virtuaaliympäristössä. 

**Tietokoneet**

[*Fyysinen kone: Lenovo Legion 7 16ACHg6*](https://nanoreview.net/en/laptop/lenovo-legion-7-2021-amd?m=c.1_g.3_r.3_s.3)

[*Vagrant: debian/bullseye64*](https://app.vagrantup.com/debian/boxes/bullseye64/versions/11.20240212.1)

### Milloin?

Testit ja oikoluku tehtiin 7.4. klo 16.45 - ??.?? välillä

## Lämmittelytehtävä

### Kahden virtuaalikoneen asentaminen ja niiden välinen verkko 

- Artikkelin tarkoitus on antaa lukijalle kopioitavia komentoja Bashiin virtuaalikoneiden asentamiseen
  - Tarkoituksena nopeuttaa työskentelyä rakentamalla testiympäristö mahdollisimman nopeasti
  - Ei huomioi Powershelliä.
- Artikkelissa on esimerkki skriptistä, joka asentaa kaksi itse konfiguroitua virtuaalikonetta valmiista pohjakoneesta.
  - Pohjaa voi hyödyntää omiin konfiguraatioihin
- Artikkeliin on päivitetty yleiseen vikaan vianetsimisohje
  - Kyse on ei sallituista IP-osoitteista, ja vaihtamisesta toiseen sallittuun osoitteeseen.
 
Karvinen, Tero: Two Machine Virtual Network With Debian 11 Bullseye and Vagrant, julkaistu 4.11.2021: https://terokarvinen.com/2021/two-machine-virtual-network-with-debian-11-bullseye-and-vagrant/
  
### Pikaohje Salt herra-orja arkkitehtuurin muodostamiseen

- Artikkeli on yksinkertainen vaiheittainen ohje
  - Salt-masterin ja -minionin asentamiseen
  - Slaven konfigurointiin ja uudelleenkäynnistämiseen master-serveriin yhdistämistä varten
  - lopullisen yhteyden sinetöimiseen masterissa
  - komentojen antamiseen masterista minionille

Karvinen, Tero: Salt Quickstart – Salt Stack Master and Slave on Ubuntu Linux, julkaistu 28.03.2018: https://terokarvinen.com/2018/salt-quickstart-salt-stack-master-and-slave-on-ubuntu-linux/

### Infraa koodina

- Artikkeli on vaiheittainen ohje
  - minionin asentamiseen
  - yksinkertaisen salt-koodin kirjoittamiseen
  - tehdyn salt-koodin testaamiseen
- Artikkelissa näytetään esimerkki
